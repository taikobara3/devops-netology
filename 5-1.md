# Домашнее задание к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."

## Задача 1

Главное отличие этих типов виртуализации во взаимодействии уровня виртуализации (гипервизора) с аппаратным обеспечением физического сервера.
При полной виртуализации гипервизор непосредственно взаимодействует с аппаратным обеспечением
При паравиртуализации для этого используются драйвера операционной системы, кторые создают слой абстракции для виртуализации
При виртуализации уровня ОС используются не только драйвера системы, но и само ядро, виртуализация обеспечивается за счет механизмов изоляции процессов ОС

## Задача 2

* Высоконагруженная база данных, чувствительная к отказу.

Я бы выбрал кластер физических серверов. Паравиртуализация и виртуализация уровня ОС, на мой взгляд менее эффективны при высокой нагрузке
Но паравиртуализация так же может использоваться, обеспечивая преимущество более легкого восстановления архива виртуальной машины, технологий миграции и отказоустойчивости, обеспечиваемой большинством гипервизоров.
Окончательный выбор зависит от возможностей кластеризации БД, наличия высокопроизводительного сетевого хранилища

* Различные web-приложения.

Паравиртуализация. Позволит более гибко использовать имеющиеся ресурсы

* Windows системы для использования бухгалтерским отделом.

Если разворачивать на ПК отдела - возможно использование виртуализации уровня ОС
Если использовать терминальные подключения, например, с тонких клиентов, - наверное, наиболее эффективна паравиртуализация. Удобно масштабировать и использовать ресурсы

* Системы, выполняющие высокопроизводительные расчеты на GPU

Только физические сервера. Мне неизвестна сейчас виртуализация, позволяющая эффективно и корректно использовать GPU

## Задача 3

* Сценарий 1

При наличии хорошего финансирования - аппаратная виргуализация VMWare или Xen - одинаково хороши для развертывания *nix и Windows систем, возможна очень гибкая настройка балансировки
При стесненных средствах - Proxmox, бесплатные возможности архивирования PBS поистине восхитительны, с остальным придется повозиться. 

* Сценарий 2

XCP (xen cloud platform) или KVM (Proxmox) - других адекватных систем, отвечающих заданным требованиям не знаю
Для данного сценария KVM, наверное, больше подходит - проще и более всеяден в отношении аппаратных платформ

* Сценарий 3

Hyper-V, наверное.
Можно, наверное рассмотреть и KVM, VMWare ESXi, XCP. Во всех решениях есть определенные нюансы, все вполне производительны и бесплатны.
Окончательное решение я бы принял на основании имеющихся компетенций, потому что оптимальная производительность обеспечится не платформой, а грамотным администрированием и архитектурой оной.

* Сценарий 4

Гипервизор уровня ОС. Docker, наверное наиболее предпочтителен. VirtualBox, наверное несколько проще (в отношении порога вхождения) и более кроссплатформен (без труда позволяет запустить одно и то же на любой ОС). Впрочем подойдет любой гипервизор этого уровня.

## Задача 4

Герерогенной средой виртуализации очень сложно управлять и адлминистрировать - у каждого гипервизора свои требования, особенности. Сложно перераспределять имеющиеся ресурсы, проводить мониторинг.
Использование такой среды может быть вызвано или переходым периодом между использованием разных гипервизоров, или какой-тонепреодолимой необходимостью.
Это не относится к одновременному использованию аппаратной или паравиртуализации наряду с виртуализацией уровня ОС - такой сценарий, на мой взгляд вполне нормален и жизнеспособен.
В нашей организации, например, используется виртуализация KVM, но разработка и дистрибуция продукта осуществляется с использованием docker.
А при возникновении необходимости развернуть другой "тяжелый" гипервизор (напр. Xen Citrix), для моделирования проблем у заказчика, например, - с успехом используется "матрешечная" виртуализация - среда гипервизоров Хен или Hyper-V разворачивается внутри KVM, на ее виртуальных машинах